(this["webpackJsonpdatalab-drinks-frontend"]=this["webpackJsonpdatalab-drinks-frontend"]||[]).push([[0],{35:function(e,a,i){},36:function(e,a,i){},37:function(e,a,i){},39:function(e,a,i){},42:function(e,a,i){},43:function(e,a,i){},44:function(e,a,i){},49:function(e,a,i){},51:function(e,a,i){"use strict";i.r(a);var t=i(0),c=i.n(t),s=i(11),n=i.n(s),r=(i(35),i(3)),l=(i(36),i(37),i(38),i(12)),d=i(4),g=(i(39),i(23)),b={menu_version:"2021-spring",menu:[{series:"\u5496\u5561\u7cfb\u5217",items:[{item_id:1,item:"cama \u7d93\u5178\u9ed1\u5496\u5561",large_price:60,medium_price:45,sugars:[{sugar_id:1,sugar_tag:"\u7121\u7cd6",enable:!0},{sugar_id:2,sugar_tag:"\u5fae\u7cd6",enable:!0},{sugar_id:3,sugar_tag:"\u534a\u7cd6",enable:!0},{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:1,ice_tag:"\u71b1",enable:!0},{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]},{item_id:2,item:"cama \u7d93\u5178\u62ff\u9435",large_price:85,medium_price:65,sugars:[{sugar_id:1,sugar_tag:"\u7121\u7cd6",enable:!0},{sugar_id:2,sugar_tag:"\u5fae\u7cd6",enable:!0},{sugar_id:3,sugar_tag:"\u534a\u7cd6",enable:!0},{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:1,ice_tag:"\u71b1",enable:!0},{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]},{item_id:3,item:"\u5361\u5e03\u5947\u8afe",large_price:85,medium_price:65,sugars:[{sugar_id:1,sugar_tag:"\u7121\u7cd6",enable:!0},{sugar_id:2,sugar_tag:"\u5fae\u7cd6",enable:!0},{sugar_id:3,sugar_tag:"\u534a\u7cd6",enable:!0},{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:1,ice_tag:"\u71b1",enable:!0},{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]},{item_id:4,item:"\u7126\u7cd6\u746a\u742a\u6735",large_price:95,medium_price:75,sugars:[{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:1,ice_tag:"\u71b1",enable:!0},{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]},{item_id:5,item:"\u9999\u8349\u62ff\u9435",large_price:95,medium_price:75,sugars:[{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:1,ice_tag:"\u71b1",enable:!0},{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]},{item_id:6,item:"\u699b\u679c\u62ff\u9435",large_price:95,medium_price:75,sugars:[{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:1,ice_tag:"\u71b1",enable:!0},{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]},{item_id:7,item:"\u6d77\u9e7d\u7126\u7cd6\u62ff\u9435",large_price:95,medium_price:75,sugars:[{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:1,ice_tag:"\u71b1",enable:!0},{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]},{item_id:8,item:"\u9ed1\u7cd6\u62ff\u9435",large_price:95,medium_price:75,sugars:[{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:1,ice_tag:"\u71b1",enable:!0},{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]},{item_id:9,item:"\u8702\u871c\u62ff\u9435",large_price:95,medium_price:75,sugars:[{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:1,ice_tag:"\u71b1",enable:!0},{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]},{item_id:10,item:"\u6469\u5361\u5496\u5561",large_price:95,medium_price:75,sugars:[{sugar_id:1,sugar_tag:"\u7121\u7cd6",enable:!0},{sugar_id:2,sugar_tag:"\u5fae\u7cd6",enable:!0},{sugar_id:3,sugar_tag:"\u534a\u7cd6",enable:!0},{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:1,ice_tag:"\u71b1",enable:!0},{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]}]},{series:"\u7cbe\u9078\u8336\u98f2",items:[{item_id:11,item:"\u7d14\u9ad8\u5c71\u932b\u862d\u8336",large_price:40,medium_price:35,sugars:[{sugar_id:1,sugar_tag:"\u7121\u7cd6",enable:!0},{sugar_id:2,sugar_tag:"\u5fae\u7cd6",enable:!0},{sugar_id:3,sugar_tag:"\u534a\u7cd6",enable:!0},{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:1,ice_tag:"\u71b1",enable:!0},{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]},{item_id:12,item:"\u7d14\u6e05\u7119\u70cf\u9f8d\u8336",large_price:40,medium_price:35,sugars:[{sugar_id:1,sugar_tag:"\u7121\u7cd6",enable:!0},{sugar_id:2,sugar_tag:"\u5fae\u7cd6",enable:!0},{sugar_id:3,sugar_tag:"\u534a\u7cd6",enable:!0},{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:1,ice_tag:"\u71b1",enable:!0},{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]},{item_id:13,item:"\u9bae\u5976\u9ad8\u5c71\u932b\u862d",large_price:70,medium_price:55,sugars:[{sugar_id:1,sugar_tag:"\u7121\u7cd6",enable:!0},{sugar_id:2,sugar_tag:"\u5fae\u7cd6",enable:!0},{sugar_id:3,sugar_tag:"\u534a\u7cd6",enable:!0},{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:1,ice_tag:"\u71b1",enable:!0},{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]},{item_id:14,item:"\u9bae\u5976\u6e05\u7119\u70cf\u9f8d",large_price:70,medium_price:55,sugars:[{sugar_id:1,sugar_tag:"\u7121\u7cd6",enable:!0},{sugar_id:2,sugar_tag:"\u5fae\u7cd6",enable:!0},{sugar_id:3,sugar_tag:"\u534a\u7cd6",enable:!0},{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:1,ice_tag:"\u71b1",enable:!0},{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]},{item_id:15,item:"\u7279\u8abf\u9ad8\u5c71\u932b\u862d",large_price:60,medium_price:50,sugars:[{sugar_id:1,sugar_tag:"\u7121\u7cd6",enable:!0},{sugar_id:2,sugar_tag:"\u5fae\u7cd6",enable:!0},{sugar_id:3,sugar_tag:"\u534a\u7cd6",enable:!0},{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:1,ice_tag:"\u71b1",enable:!0},{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]},{item_id:16,item:"\u7279\u8abf\u6e05\u7119\u70cf\u9f8d",large_price:60,medium_price:50,sugars:[{sugar_id:1,sugar_tag:"\u7121\u7cd6",enable:!0},{sugar_id:2,sugar_tag:"\u5fae\u7cd6",enable:!0},{sugar_id:3,sugar_tag:"\u534a\u7cd6",enable:!0},{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:1,ice_tag:"\u71b1",enable:!0},{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]},{item_id:17,item:"\u860b\u679c\u6ab8\u9999\u932b\u862d\u7d05\u8336",large_price:65,medium_price:55,sugars:[{sugar_id:1,sugar_tag:"\u7121\u7cd6",enable:!0},{sugar_id:2,sugar_tag:"\u5fae\u7cd6",enable:!0},{sugar_id:3,sugar_tag:"\u534a\u7cd6",enable:!0},{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:1,ice_tag:"\u71b1",enable:!0},{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]},{item_id:18,item:"\u871c\u6843\u8354\u679d\u932b\u862d\u7d05\u8336",large_price:65,medium_price:55,sugars:[{sugar_id:1,sugar_tag:"\u7121\u7cd6",enable:!0},{sugar_id:2,sugar_tag:"\u5fae\u7cd6",enable:!0},{sugar_id:3,sugar_tag:"\u534a\u7cd6",enable:!0},{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:1,ice_tag:"\u71b1",enable:!0},{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]},{item_id:19,item:"\u5fb7\u570b\u82b1\u8349\u8336",large_price:65,medium_price:45,sugars:[{sugar_id:1,sugar_tag:"\u7121\u7cd6",enable:!0},{sugar_id:2,sugar_tag:"\u5fae\u7cd6",enable:!0},{sugar_id:3,sugar_tag:"\u534a\u7cd6",enable:!0},{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:1,ice_tag:"\u71b1",enable:!0},{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]},{item_id:20,item:"\u6d6e\u96f2\u5976\u84cb\u932b\u862d\u7d05",large_price:60,medium_price:50,sugars:[{sugar_id:1,sugar_tag:"\u7121\u7cd6",enable:!0},{sugar_id:2,sugar_tag:"\u5fae\u7cd6",enable:!0},{sugar_id:3,sugar_tag:"\u534a\u7cd6",enable:!0},{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]},{item_id:21,item:"\u6d6e\u96f2\u5976\u84cb\u70cf\u9f8d\u8336",large_price:60,medium_price:50,sugars:[{sugar_id:1,sugar_tag:"\u7121\u7cd6",enable:!0},{sugar_id:2,sugar_tag:"\u5fae\u7cd6",enable:!0},{sugar_id:3,sugar_tag:"\u534a\u7cd6",enable:!0},{sugar_id:4,sugar_tag:"\u6b63\u5e38\u7cd6",enable:!0}],ices:[{ice_id:2,ice_tag:"\u53bb\u51b0",enable:!0},{ice_id:3,ice_tag:"\u5c11\u51b0",enable:!0},{ice_id:4,ice_tag:"\u6b63\u5e38\u51b0",enable:!0}]}]}]},u="http://datalab-drinks.herokuapp.com";function o(e){return fetch("http://shwu16.cs.nthu.edu.tw:5002/v2/orders/",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({order_by:e.name,item_id:e.id,size:e.size,sugar_id:parseInt(e.sugar),ice_id:parseInt(e.ice)})}).catch((function(a){return console.log(a),_(e)}))}function _(e){var a="".concat(u,"/orders/");return fetch(a,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({order_by:e.name,item_id:e.id,size:e.size,sugar_id:parseInt(e.sugar),ice_id:parseInt(e.ice)})}).catch((function(e){console.log(e)}))}function j(){var e="".concat(u,"/orders/");return fetch(e).then((function(e){return console.log(e),e.json()})).catch((function(e){return console.log(e),{}}))}var m=i(1);function h(e){return Object(m.jsx)("div",{className:"btn-group w-100",role:"group","aria-label":"Basic radio toggle button group",children:e.options.map((function(a,i){return Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)("input",{type:"radio",className:"btn-check",name:"btn-radio-".concat(e.title,"-").concat(e.id),id:"btn-radio-".concat(e.title,"-").concat(e.id,"-").concat(i),autoComplete:"off",onClick:function(){e.onChange(e.values?e.values[i]:a),console.log(a)}}),Object(m.jsx)("label",{className:"btn btn-outline-primary",htmlFor:"btn-radio-".concat(e.title,"-").concat(e.id,"-").concat(i),children:a})]},i)}))})}i(42);function x(e){return Object(m.jsx)("div",{className:"d-flex justify-content-center",children:Object(m.jsxs)("div",{className:"lds-spinner "+(e.size?e.size:""),children:[Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{})]})})}function p(e){var a=Object(t.useState)(!1),i=Object(r.a)(a,2),c=i[0],s=i[1],n=Object(t.useState)("medium"),l=Object(r.a)(n,2),d=l[0],b=l[1],u=Object(t.useState)(""),j=Object(r.a)(u,2),p=j[0],O=j[1],f=Object(t.useState)(""),v=Object(r.a)(f,2),w=v[0],N=v[1],k=Object(t.useRef)(null),y=Object(t.useContext)(E),S=y.fallback,C=(y.showSuccessModal,y.setShowSuccessModal);Object(t.useEffect)((function(){var e=localStorage.getItem("name")||"";e.length>1&&(k.current.value=e)}),[]);return Object(m.jsx)("div",{className:"collapse",id:e.data.item,children:Object(m.jsx)("div",{className:"order-content p-2",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"row col-lg-10",children:[Object(m.jsxs)("div",{className:"my-2 col-lg-6 d-flex flex-row align-items-center",children:[Object(m.jsx)("span",{className:"",children:"\u5927\u5c0f"}),Object(m.jsx)("div",{className:"select-size ms-2 flex-grow-1",children:Object(m.jsx)(h,{id:e.data.item,title:"size",options:0===e.data.large_price?["\u4e2d"]:0===e.data.medium_price?["\u5927"]:["\u4e2d","\u5927"],values:0===e.data.large_price?["medium"]:0===e.data.medium_price?["large"]:["medium","large"],onChange:b})})]}),Object(m.jsxs)("div",{className:"my-2 col-lg-6 d-flex flex-row align-items-center",children:[Object(m.jsx)("span",{children:"\u6eab\u5ea6"}),Object(m.jsx)("div",{className:"select-hot ms-2 flex-grow-1",children:Object(m.jsx)(h,{id:e.data.item,title:"ice",options:e.data.ices.reduce((function(e,a){return a.enable?e.concat([a.ice_tag]):e}),[]),values:e.data.ices.reduce((function(e,a){return a.enable?e.concat([a.ice_id]):e}),[]),onChange:N})})]}),Object(m.jsxs)("div",{className:"my-2 col-lg-6 d-flex flex-row align-items-center",children:[Object(m.jsx)("span",{children:"\u751c\u5ea6"}),Object(m.jsx)("div",{className:"select-ice ms-2 flex-grow-1",children:Object(m.jsx)(h,{id:e.data.item,title:"sugar",options:e.data.sugars.reduce((function(e,a){return a.enable?e.concat([a.sugar_tag]):e}),[]),values:e.data.sugars.reduce((function(e,a){return a.enable?e.concat([a.sugar_id]):e}),[]),onChange:O})})]}),Object(m.jsxs)("div",{className:"my-2 col-lg-6 d-flex flex-row align-items-center",children:[Object(m.jsx)("span",{children:"\u8a02\u8cfc\u4eba"}),Object(m.jsx)("div",{className:"select-name ms-2 flex-grow-1",children:Object(m.jsx)(g.Hint,{options:["\u8001\u5e2b","\u5433\u7fa9\u8def","\u6797\u7389\u5c71","\u738b\u4ea8\u5091","\u5f90\u5049\u502b","\u8881\u5609\u5b8f","\u97d3\u5b9c\u5ead","\u5f35\u80b2\u69ae","\u738b\u5e73\u90c1","\u4f55\u661f\u7def","\u5b6b\u6d69\u502b","\u8607\u745e\u63da","\u6797\u96e8\u8431","\u7f85\u6631\u55ac","\u8a31\u5c0a\u9716","\u5f90\u90c1\u958e","\u8a79\u5176\u4f81","\u8521\u6021\u541b","\u7fa9\u8def","\u7389\u5c71","\u4ea8\u5091","\u5049\u502b","\u5609\u5b8f","\u5b9c\u5ead","\u80b2\u69ae","\u5e73\u90c1","\u661f\u7def","\u6d69\u502b","\u745e\u63da","\u96e8\u8431","\u6631\u55ac","\u5c0a\u9716","\u90c1\u958e","\u5176\u4f81","\u6021\u541b"],children:Object(m.jsx)("input",{ref:k,type:"text",className:"mt-2 form-control",placeholder:"\u4f60\u7684\u540d\u5b57","aria-label":"Username","aria-describedby":"basic-addon1"})})})]})]}),Object(m.jsx)("div",{className:"col-lg-2 px-0 py-2",children:Object(m.jsx)("button",{type:"button",className:"btn btn-outline-primary w-100 h-100",onClick:function(){s(!0);var a=k.current.value;a.length<1?alert("\u8acb\u5beb\u540d\u5b57 QWQ!"):(localStorage.setItem("name",a),(S?_:o)({name:a,id:e.data.item_id,size:d,ice:w,sugar:p}).then((function(e){e.ok&&(console.log("\u8a02\u8cfc\u6210\u529f!"),C(!0),s(!1))})))},children:c?Object(m.jsx)(x,{}):Object(m.jsx)("span",{children:"\u9001\u51fa\u8a02\u55ae"})})})]})})})}function O(e){var a=Object(t.useState)(!1),i=Object(r.a)(a,2),c=i[0],s=i[1];return Object(m.jsxs)("li",{className:"list-group-item d-flex flex-column p-0 bg-transparent",onClick:function(){c||s(!0)},children:[Object(m.jsx)("div",{className:"btn p-2 jf-jinxuanlatte-medium",type:"button","data-bs-toggle":"collapse","data-bs-target":"#".concat(e.data.item),"aria-expanded":"false","aria-controls":e.data.item,children:Object(m.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[Object(m.jsx)("span",{children:e.data.item}),Object(m.jsxs)("div",{className:"d-flex",children:[Object(m.jsxs)("div",{className:"mx-1 drink-price",style:{visibility:0===e.data.medium_price?"hidden":"visible"},children:[Object(m.jsx)("span",{className:"mx-1 badge rounded-pill bg-primary",children:"M"}),Object(m.jsx)("span",{className:"mx-1",children:e.data.medium_price})]}),Object(m.jsxs)("div",{className:"mx-1 drink-price",style:{visibility:0===e.data.large_price?"hidden":"visible"},children:[Object(m.jsx)("span",{className:"mx-1 badge rounded-pill bg-primary",children:"L"}),Object(m.jsx)("span",{className:"mx-1",children:e.data.large_price})]})]})]})}),Object(m.jsx)(p,{data:e.data})]})}function f(e){return Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("ul",{className:"accordion accordion-flush list-group-flush",children:e.data.map((function(e,a){return e.item=e.item.replace(" ",""),Object(m.jsx)(O,{data:e},a)}))})})}i(43);function v(e){return Object(m.jsxs)("div",{className:"my-4",children:[Object(m.jsx)("h1",{children:e.series.series}),Object(m.jsx)("div",{className:"row card drink-section p-2",children:Object(m.jsx)(f,{data:e.series.items})})]})}var w=i(55),N=i(56);i(44);function k(e){var a=Object(t.useState)(!0),i=Object(r.a)(a,2),s=i[0],n=i[1],l=Object(t.useContext)(E),g=l.drinkData,b=l.showSuccessModal,u=l.setShowSuccessModal,o=(Object(d.g)(),Object(d.h)()),_=c.a.useRef(null);return Object(t.useEffect)((function(){setTimeout((function(){window._jf&&window._jf.flush()}),500)}),[]),Object(t.useEffect)((function(){g&&g.menu&&n(!1)}),[g]),Object(m.jsxs)(c.a.Fragment,{children:[s&&Object(m.jsx)(x,{}),Object(m.jsx)("div",{className:"container tab-content","data-aos":"fade-in","data-aos-duration":"300",id:"nav-tabContent",children:g&&g.menu&&g.menu.map((function(e,a){return o.series==a||"all"==o.series?Object(m.jsx)("div",{className:"tab-panefadeactiveshow",id:"drink"+a,role:"tabpanel","aria-labelledby":"drink-".concat(a,"-tab"),children:Object(m.jsx)(v,{series:e})},a):Object(m.jsx)("div",{},a)}))}),Object(m.jsx)(N.a,{nodeRef:_,in:b,timeout:2e3,classNames:"success-modal",children:Object(m.jsx)("div",{className:"w-100 justify-content-center success-modal",ref:_,children:Object(m.jsxs)(w.a,{className:"m-0 px-4 text-center",children:[Object(m.jsx)("span",{children:"\u8a02\u8cfc\u6210\u529f \u1d54\u1d25\u1d54"}),Object(m.jsx)("span",{className:"mx-3"}),Object(m.jsx)("div",{className:"btn btn-primary",onClick:function(){u(!1)},children:"OK"})]})})})]})}i(49);var y=i.p+"static/media/datalab-logo-white.d8636724.png",S=i.p+"static/media/datalab-bg.c70e3884.jpg";function C(e){var a=Object(d.g)().pathname.split("/");return Object(m.jsxs)("nav",{className:"navbar navbar-light navbar-expand-md px-1 py-0",id:"nav-bar",role:"tablist",children:[Object(m.jsx)("div",{id:"datalab-drink-logo-background",className:"navbar-brand py-2",style:{backgroundImage:"url(".concat(S,")")},children:Object(m.jsx)("div",{id:"datalab-drink-logo",children:Object(m.jsx)("img",{src:y,style:{height:"2.5rem"}})})}),Object(m.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo03","aria-controls":"navbarTogglerDemo03","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(m.jsx)("span",{className:"navbar-toggler-icon"})}),Object(m.jsx)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo03",children:Object(m.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)("div",{className:"nav-link-background mx-lg-0 mx-sm-3"+("all"==a[2]?" selected":""),children:Object(m.jsx)(l.b,{className:"nav-link",to:"/drinks/all",children:"\u5168\u90e8\u98f2\u6599"})})}),e.drinkData&&e.drinkData.menu&&e.drinkData.menu.map((function(e,i){return Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)("div",{className:"nav-link-background mx-lg-0 mx-sm-3 "+(a[2]==i?" selected":""),children:Object(m.jsx)(l.b,{className:"nav-link",to:"/drinks/".concat(i),children:e.series})})},i)})),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)("div",{className:"nav-link-background mx-lg-0 mx-sm-3 "+("orders"==a[1]?" selected":""),children:Object(m.jsx)(l.b,{className:"nav-link",to:"/orders",children:"\u8a02\u8cfc\u7d00\u9304"})})})]})})]})}function D(e){var a=Object(t.useContext)(E);a.drinkData.sugar,a.drinkData.ice;return Object(m.jsxs)("li",{className:"list-group-item d-flex flex-row justify-content-between drink-section",children:[Object(m.jsx)("span",{children:"".concat(e.data.item,"(").concat("large"==e.data.size?"\u5927":"\u4e2d",")/").concat(e.data.ice_tag,"/").concat(e.data.sugar_tag)}),Object(m.jsx)("span",{children:e.data.order_by})]})}function T(e){var a=Object(t.useState)(!1),i=Object(r.a)(a,2),c=(i[0],i[1],Object(t.useContext)(E));c.drinkData.sugar,c.drinkData.ice;return Object(m.jsxs)("div",{className:"row mt-4",children:[Object(m.jsx)("h1",{children:"\u7d71\u8a08"}),e.data.map((function(e,a){return Object(m.jsx)("div",{className:"col-lg-4 col-md-6 p-2",children:Object(m.jsxs)("div",{className:"d-flex rounded border border-primary m-1 w-100 h-100  drink-section",children:[Object(m.jsx)("div",{className:"flex-grow-1 d-flex justify-content-center align-items-center p-2",children:Object(m.jsx)("span",{children:"".concat(e.item,"(").concat("large"===e.size?"\u5927":"\u4e2d",")/").concat(e.sugar_tag,"/").concat(e.ice_tag)})}),Object(m.jsx)("div",{className:"h-100 border-start border-primary p-2 d-flex justify-content-center align-items-center",children:Object(m.jsx)("span",{children:e.number})})]})},a)}))]})}function z(e){var a=Object(t.useState)(!0),i=Object(r.a)(a,2),s=i[0],n=i[1],l=Object(t.useState)([]),d=Object(r.a)(l,2),g=d[0],b=d[1],u=Object(t.useState)([]),o=Object(r.a)(u,2),_=o[0],h=o[1],p=Object(t.useState)([]),O=Object(r.a)(p,2),f=O[0],v=O[1],w=Object(t.useContext)(E).fallback,N=function(e,a){var i=e.item+e.ice_tag+e.sugar_tag,t=a.item+a.ice_tag+a.sugar_tag;return i<t?-1:i>t?1:0};return Object(t.useEffect)((function(){w||fetch("http://shwu16.cs.nthu.edu.tw:5002/v2/orders/").then((function(e){return e.json()})).catch((function(e){return console.log(e),j()})).then((function(e){console.log(e),e?(console.log(e.payload),h(e.payload.week_orders.sort(N)||[]),b(e.payload.aggregate_orders||[])):h([]),n(!1)})),j().then((function(e){console.log(e),e?(console.log(e.payload),v(e.payload.week_orders.sort(N)||[]),b(e.payload.aggregate_orders||[])):h([]),setTimeout((function(){window._jf&&window._jf.flush()}),500),n(!1)})),setTimeout((function(){window._jf&&window._jf.flush()}),500)}),[]),Object(t.useEffect)((function(){setTimeout((function(){window._jf&&window._jf.flush()}),500)}),[]),Object(m.jsx)(c.a.Fragment,{children:Object(m.jsxs)("div",{className:"container",id:"order-list","data-aos":"fade-in","data-aos-duration":"300",children:[Object(m.jsx)(T,{data:g}),s&&Object(m.jsx)(x,{}),Object(m.jsxs)("div",{className:"row mt-4",children:[Object(m.jsx)("h1",{children:"\u6e05\u55ae"}),s&&Object(m.jsx)(x,{}),Object(m.jsxs)("ul",{className:"list-group list-group-flush",children:[_.map((function(e,a){return Object(m.jsx)(D,{data:e},a)})),f.map((function(e,a){return Object(m.jsx)(D,{data:e},a)}))]})]})]})})}var I=i(29),F=i.n(I),E=(i(50),c.a.createContext());var M=function(){var e=Object(t.useState)([]),a=Object(r.a)(e,2),i=a[0],c=a[1],s=Object(t.useState)(!1),n=Object(r.a)(s,2),g=n[0],u=n[1],o=Object(t.useState)(!1),_=Object(r.a)(o,2),j=_[0],h=_[1],x=Object(t.useState)(""),p=Object(r.a)(x,2),O=p[0],f=p[1],v=Object(t.useState)(!1),w=Object(r.a)(v,2),N=w[0],y=w[1],S="https://i.imgur.com/SDLzr35.jpg";Object(t.useEffect)((function(){F.a.init({duration:2e3}),fetch("http://shwu16.cs.nthu.edu.tw:5002/v2/menus/").then((function(e){return e.json()})).then((function(e){console.log(e),console.log(e.payload),c(e.payload)})).catch((function(e){console.log(e),c(b),u(!0)})).finally((function(){setTimeout((function(){window._jf&&window._jf.flush()}),500)}))}),[]),Object(t.useEffect)((function(){var e=new Image;e.src=S,e.onload=function(){y(!0)}}),[]);var D={drinkData:i,showSuccessModal:j,setShowSuccessModal:h,focusDrinkId:O,setFocusDrinkId:f,fallback:g};return Object(m.jsxs)(E.Provider,{value:D,children:[Object(m.jsx)("div",{className:"App","data-aos":"fade-in","data-aos-delay":"700",children:Object(m.jsxs)(l.a,{children:[Object(m.jsx)(C,{drinkData:i}),g&&Object(m.jsx)("div",{className:"alert alert-warning",role:"alert",children:"\u56e0\u5f8c\u7aef\u7cfb\u7d71\u7570\u5e38\u5207\u63db\u5230\u5099\u7528\u9ede\u9910\u7cfb\u7d71\uff0c\u901f\u5ea6\u8f03\u6162\u656c\u8acb\u898b\u8ad2"}),N&&Object(m.jsx)("div",{className:"vh-100 vw-100 position-fixed","data-aos":"fade-in",style:{top:0,zIndex:-1,backgroundImage:"url(".concat(S,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",filter:"blur(8px)"}}),Object(m.jsx)(t.Suspense,{fallback:Object(m.jsx)("div",{children:"Loading..."}),children:Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{exact:!0,path:"/",children:Object(m.jsx)(d.a,{to:{pathname:"/drinks/all"}})}),Object(m.jsx)(d.b,{exact:!0,path:"/drinks",children:Object(m.jsx)(d.a,{to:{pathname:"/drinks/all"}})}),Object(m.jsx)(d.b,{path:"/drinks/:series",children:Object(m.jsx)(k,{})}),Object(m.jsx)(d.b,{exact:!0,path:"/orders",children:Object(m.jsx)(z,{})})]})})]})}),Object(m.jsx)("footer",{className:"bd-footer p-3 mt-5 bg-light text-center text-sm-start",children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("ul",{className:"bd-footer-links ps-0 mb-3",children:Object(m.jsx)("li",{className:"d-inline-block",children:Object(m.jsx)("a",{href:"https://github.com/jackraken/datalab-drinks-frontend",children:"GitHub"})})}),Object(m.jsxs)("p",{className:"mb-0",children:["Designed and built with all the love in the world by the ",Object(m.jsx)("a",{href:"http://www.cs.nthu.edu.tw/~shwu/",children:"Datalab"})," with the help of ",Object(m.jsx)("a",{href:"https://www.camacafe.com/",children:"cama coffee"}),"(03)571-1500."]})]})})]})},L=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,57)).then((function(a){var i=a.getCLS,t=a.getFID,c=a.getFCP,s=a.getLCP,n=a.getTTFB;i(e),t(e),c(e),s(e),n(e)}))};n.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(M,{})}),document.getElementById("root")),L()}},[[51,1,2]]]);
//# sourceMappingURL=main.189ad452.chunk.js.map