(this["webpackJsonpdatalab-drinks-frontend"]=this["webpackJsonpdatalab-drinks-frontend"]||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},106:function(e,t,n){},115:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(28),r=n.n(s),i=(n(102),n(6)),l=n(4),o=(n(103),n(104),n(105),n(29)),d=n(17),j=(n(106),n(2));function b(e){var t=Object(d.g)().pathname.split("/");return Object(j.jsxs)("nav",{className:"navbar navbar-light navbar-expand-md px-1 py-0",id:"nav-bar",role:"tablist",children:[Object(j.jsx)("div",{id:"datalab-drink-logo-background",className:"navbar-brand py-2",children:Object(j.jsx)("div",{id:"datalab-drink-logo",children:Object(j.jsx)("img",{src:"data:image/png;base64,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",style:{height:"2rem"}})})}),Object(j.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo03","aria-controls":"navbarTogglerDemo03","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{className:"navbar-toggler-icon"})}),Object(j.jsx)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo03",children:Object(j.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("div",{className:"nav-link-background mx-lg-0 mx-sm-3"+("participants"==t[1]?" selected":""),children:Object(j.jsx)(o.b,{className:"nav-link",to:"/participants",children:"\u5168\u90e8\u540d\u55ae"})})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("div",{className:"nav-link-background mx-lg-0 mx-sm-3 "+("groups"==t[1]?" selected":""),children:Object(j.jsx)(o.b,{className:"nav-link",to:"/groups",children:"\u5206\u7d44\u540d\u55ae"})})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("div",{className:"nav-link-background mx-lg-0 mx-sm-3 "+("events"==t[1]?"selected":""),children:Object(j.jsx)(o.b,{className:"nav-link",to:"/events",children:"\u4e8b\u4ef6\u5716\u8868"})})})]})})]})}var u=n(0),O=n(87),h=n.n(O),m=(n(112),n(10)),p=n(3),x=(n(7),n(55)),f=n(57),g=n(34);n(115);function v(e){return Object(j.jsx)("div",{className:"d-flex justify-content-center",children:Object(j.jsxs)("div",{className:"lds-spinner "+(e.size?e.size:""),children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})})}var A,y=n(56),S=y.a.div(A||(A=Object(x.a)(['\n  /* This is required to make the table full-width */\n  display: block;\n  max-width: 100%;\n\n  /* This will make the table scrollable when it gets too small */\n  .tableWrap {\n    display: block;\n    max-width: 100%;\n    overflow-x: scroll;\n    overflow-y: hidden;\n    border-bottom: 1px solid black;\n  }\n\n  table {\n    /* Make sure the inner table is always as wide as needed */\n    width: 100%;\n    border-spacing: 0;\n\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      /* The secret sauce */\n      /* Each cell should grow equally */\n      width: 1%;\n      /* But "collapsed" cells should be as small as possible */\n      &.collapse {\n        width: 0.0000000001%;\n      }\n\n      :last-child {\n        border-right: 0;\n      }\n    }\n  }\n\n  .pagination {\n    padding: 0.5rem;\n  }\n'])));function k(e){var t=e.columns,n=e.data,c=Object(g.useTable)({columns:t,data:n},g.useRowSelect,(function(e){e.visibleColumns.push((function(e){return Object(m.a)(e)}))})),a=c.getTableProps,s=c.getTableBodyProps,r=c.headerGroups,i=c.rows,l=c.prepareRow;c.selectedFlatRows,c.state.selectedRowIds;return Object(j.jsx)(S,{children:Object(j.jsxs)(f.a,Object(p.a)(Object(p.a)({striped:!0,bordered:!0,hover:!0,size:"sm"},a()),{},{children:[Object(j.jsx)("thead",{children:r.map((function(e){return Object(j.jsx)("tr",Object(p.a)(Object(p.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(j.jsx)("th",Object(p.a)(Object(p.a)({style:{minWidth:"5rem",maxWidth:"12rem"}},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(j.jsx)("tbody",Object(p.a)(Object(p.a)({},s()),{},{children:i.map((function(e,t){return l(e),Object(j.jsx)("tr",Object(p.a)(Object(p.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(j.jsx)("td",Object(p.a)(Object(p.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))})}function C(e){var t=Object(c.useState)(!0),n=Object(l.a)(t,2),s=(n[0],n[1]),r=Object(c.useContext)($).participantData;Object(d.g)(),Object(d.h)(),a.a.useRef(null);return Object(c.useEffect)((function(){}),[]),Object(c.useEffect)((function(){r&&r.menu&&s(!1)}),[r]),0==r.columns.length?Object(j.jsx)(v,{}):Object(j.jsxs)(a.a.Fragment,{children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{id:"nav-tabContent",children:Object(j.jsx)(k,{columns:r.columns,data:r.rows})})]})}var w,N=n(43),T=n.n(N),D=n(73),I=n(91),U=n(38),P=n.n(U),M=y.a.div(w||(w=Object(x.a)(['\n  /* This is required to make the table full-width */\n  display: block;\n  max-width: 100%;\n\n  /* This will make the table scrollable when it gets too small */\n  .tableWrap {\n    display: block;\n    max-width: 100%;\n    overflow-x: scroll;\n    overflow-y: hidden;\n    border-bottom: 1px solid black;\n  }\n\n  table {\n    /* Make sure the inner table is always as wide as needed */\n    width: 100%;\n    border-spacing: 0;\n\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      /* The secret sauce */\n      /* Each cell should grow equally */\n      width: 1%;\n      /* But "collapsed" cells should be as small as possible */\n      &.collapse {\n        width: 0.0000000001%;\n      }\n\n      :last-child {\n        border-right: 0;\n      }\n    }\n  }\n\n  .pagination {\n    padding: 0.5rem;\n  }\n'])));function R(e){var t=e.columns,n=e.data,c=Object(g.useTable)({columns:t,data:n,initialState:{sortBy:[{id:"\u7d44\u5225",desc:!0}]}},g.useSortBy,g.useRowSelect,(function(e){e.visibleColumns.push((function(e){return Object(m.a)(e)}))})),a=c.getTableProps,s=c.getTableBodyProps,r=c.headerGroups,i=c.rows,l=c.prepareRow;c.selectedFlatRows,c.state.selectedRowIds;return Object(j.jsx)(M,{children:Object(j.jsxs)(f.a,Object(p.a)(Object(p.a)({striped:!0,bordered:!0,hover:!0,size:"sm"},a()),{},{children:[Object(j.jsx)("thead",{children:r.map((function(e){return Object(j.jsx)("tr",Object(p.a)(Object(p.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(j.jsx)("th",Object(p.a)(Object(p.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:e.render("Header")}))}))}))}))}),Object(j.jsx)("tbody",Object(p.a)(Object(p.a)({},s()),{},{children:i.map((function(e,t){return l(e),Object(j.jsx)("tr",Object(p.a)(Object(p.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(j.jsx)("td",Object(p.a)(Object(p.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))})}function B(e){var t=Object(c.useState)(!0),n=Object(l.a)(t,2),s=(n[0],n[1],Object(c.useContext)($)),r=s.groupData,i=(s.participantData,Object(d.g)(),Object(d.h)(),a.a.useRef(null),function(){var e=Object(D.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert("\u66ab\u4e0d\u958b\u653e");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),o=function(){var e=Object(D.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert("\u66ab\u4e0d\u958b\u653e");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){}),[]),0==r.columns.length?Object(j.jsx)(v,{}):Object(j.jsxs)(a.a.Fragment,{children:[Object(j.jsx)("div",{id:"nav-tabContent",children:Object(j.jsx)(R,{columns:r.columns,data:r.rows})}),Object(j.jsxs)("div",{className:"my-2",children:[Object(j.jsx)(I.a,{onClick:function(){o()},children:"(\u522a\u9664\u73fe\u6709\u8cc7\u6599)"}),Object(j.jsx)(I.a,{onClick:function(){i()},children:"\u532f\u5165\u8cc7\u6599\u5eab(\u8986\u5beb\u73fe\u6709\u8cc7\u6599)"})]})]})}var E=n(143),F=n(144),K=n(141),G=n(142),J=n(96),Y=n(146),L=n(145),Q=n(18),z=n(74),X=n(20),q=["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5","#8bd3c7","#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0","#b30000","#7c1158","#4421af","#1a53ff","#0d88e6","#00b7c7","#5ad45a","#8be04e","#ebdc78"],H=a.a.forwardRef((function(e,t){var n=e.children,c=e.onClick;return Object(j.jsx)(I.a,{variant:"light",className:"m-1 p-1",size:"sm",ref:t,onClick:function(e){e.preventDefault(),c(e)},children:n})}));function Z(e){var t=Object(c.useState)([]),n=Object(l.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)([]),i=Object(l.a)(r,2),o=i[0],d=i[1],b=Object(c.useState)("day"),u=Object(l.a)(b,2),O=u[0],h=u[1],p=Object(c.useState)(6),x=Object(l.a)(p,2),f=x[0],g=x[1],v=Object(c.useState)(!1),A=Object(l.a)(v,2),y=A[0],S=A[1],k=Object(c.useState)(e.chartType),C=Object(l.a)(k,2),w=C[0],N=C[1],T=Math.floor((Math.floor(new Date/1e3)-163872e4)/86400),D=Object(c.useState)([0,T]),U=Object(l.a)(D,2),M=U[0],R=U[1],B=function(e,t){var n="\u5168\u90e8"==t.eventType?"All":t.eventType;P.a.get("http://localhost:5000/api/events",{params:{event:n,section:t.section,subSection:t.subSection,metric:O,start:M[0],end:M[1],groupFunc:t.groupFunc}}).then((function(c){if(console.log(c.data),"GROUP"!=t.groupFunc){var r=a;r[e]={label:"subSection"in t?"".concat(n,"/").concat(t.section,"/").concat(t.subSection):"".concat(n,"/").concat(t.section),data:c.data,backgroundColor:q[e>=q.length?0:e],borderColor:q[e>=q.length?0:e]},s(r.slice())}else{var i=[],l=0;for(var o in c.data.data)i.push({label:o,data:c.data.data[o],backgroundColor:q[l>=q.length?0:l],borderColor:q[e>=q.length?0:e]}),l++;s(i)}}))};Object(c.useEffect)((function(){for(var t=a.slice(),n=0;n<t.length;n++)void 0!==e.eventData[n]&&B(n,e.eventData[n])}),[O]),Object(c.useEffect)((function(){var t=a.slice();0===t.length&&function(){if(0===a.length){for(var t={label:"loading",data:{},backgroundColor:"rgba(255, 99, 132, 0.5)"},n=[],c=0;c<e.eventData.length;c++)n.push(t);s(n.slice())}}();for(var n=0;n<t.length;n++){if("loading"===t[n].label){void 0!==e.eventData[n]&&B(n,e.eventData[n]);break}}F()}),[a]);var E={responsive:!0,scales:{y:{ticks:{precision:0},stacked:"\u5806\u758a\u5716"==w},x:{stacked:"\u5806\u758a\u5716"==w}},plugins:{legend:{position:"top"},title:{display:!0,text:[1===e.eventData.length?""!==e.eventData[0].subSection&&void 0!==e.eventData[0].subSection?"".concat(e.eventData[0].eventType," \u4e8b\u4ef6 (").concat(e.eventData[0].section," : ").concat(e.eventData[0].subSection,")"):"".concat(e.eventData[0].eventType," \u4e8b\u4ef6 (").concat(e.eventData[0].section," \u4f7f\u7528\u8005)"):"\u4e8b\u4ef6\u6bd4\u5c0d\u5716","\u6574\u5408\u51fd\u6578\uff1a".concat(e.eventData[0].groupFunc||"COUNT")]}}},F=function(){d("day"==O?Object(m.a)(Array(M[1]-M[0]+1)).map((function(e,t){return"12/".concat(t+6+M[0])})):Object(m.a)(Array(24*(M[1]-M[0]+1))).map((function(e,t){return"12/".concat(Math.floor(t/24)+6+M[0],"(").concat(t%24,")")})))};return Object(j.jsx)(K.a,{lg:f,children:Object(j.jsxs)("div",{className:"d-block position-relative card shadow-sm m-2",children:[Object(j.jsxs)("div",{className:"w-100 position-absolute d-flex justify-content-between",children:[Object(j.jsxs)("div",{className:"d-flex align-items-center",children:[Object(j.jsxs)("div",{className:"d-flex flex-row align-items-center ps-2",style:{fontSize:"0.8rem"},children:[y?Object(j.jsxs)("div",{className:"d-flex",children:[Object(j.jsx)(G.a,{variant:"outline-secondary",size:"sm",title:"12/".concat(M[0]+6),children:Object(m.a)(Array(14).keys()).map((function(e){return Object(j.jsx)(J.a.Item,{onClick:function(){var t=M.slice();t[0]=e,R(t)},children:"12/".concat(e+6)},e)}))}),Object(j.jsx)("span",{children:"~"}),Object(j.jsx)(G.a,{variant:"outline-secondary",size:"sm",title:"12/".concat(M[1]+6),children:Object(m.a)(Array(14-M[0]).keys()).map((function(e){return Object(j.jsx)(J.a.Item,{onClick:function(){var t=M.slice();t[1]=e+t[0],R(t)},children:"12/".concat(e+6+M[0])},e)}))})]}):Object(j.jsx)("div",{children:"12/".concat(M[0]+6,"~12/").concat(M[1]+6)}),Object(j.jsx)(I.a,{variant:"light",className:"m-1 p-1",onClick:function(){y?M[1]>=M[0]?(s([]),S(!1)):alert("\u65e5\u671f\u932f\u8aa4"):S(!0)},children:y?Object(j.jsx)(X.c,{}):Object(j.jsx)(X.a,{})})]}),"hour"==O?Object(j.jsx)(I.a,{variant:"light",className:"m-1 p-1",onClick:function(){h("day")},children:Object(j.jsx)(X.h,{})}):Object(j.jsx)(I.a,{variant:"light",className:"m-1 p-1",onClick:function(){h("hour")},children:Object(j.jsx)(X.i,{})})]}),Object(j.jsxs)("div",{className:"d-flex flex-row",children:[Object(j.jsxs)(J.a,{className:"d-flex",children:[Object(j.jsx)(J.a.Toggle,{as:H,id:"dropdown-custom-components",children:Object(j.jsx)(X.b,{})}),Object(j.jsx)(J.a.Menu,{variant:"primary",children:["\u76f4\u689d\u5716","\u5806\u758a\u5716","\u6298\u7dda\u5716"].map((function(e,t){return Object(j.jsx)(J.a.Item,{onClick:function(){N(e)},children:e},e)}))})]}),Object(j.jsx)(I.a,{variant:"light",className:"m-1 p-1",onClick:function(){g(6==f?12:6)},children:6==f?Object(j.jsx)(X.e,{}):Object(j.jsx)(X.d,{})}),Object(j.jsx)(I.a,{variant:"light",className:"m-1 p-1",onClick:function(){s([])},children:Object(j.jsx)(X.j,{})}),Object(j.jsx)(I.a,{variant:"light",className:"m-1 p-1",onClick:function(){e.deleteChart(e.idx)},children:Object(j.jsx)(X.k,{})})]})]}),Object(j.jsx)("div",{className:"p-2",children:"\u6298\u7dda\u5716"==w?Object(j.jsx)(z.b,{options:E,data:{labels:o,datasets:a}}):Object(j.jsx)(z.a,{options:E,data:{labels:o,datasets:a}})})]})})}Q.e.register(Q.d,Q.j,Q.b,Q.l,Q.i,Q.p,Q.q,Q.g);n(134);var V=a.a.forwardRef((function(e,t){var n=e.children,c=e.onClick;return Object(j.jsx)(I.a,{ref:t,onClick:function(e){e.preventDefault(),c(e)},children:n})}));function W(e){Object(c.useContext)($);var t=Object(c.useState)(["\u76f4\u689d\u5716","\u5806\u758a\u5716"]),n=Object(l.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)([[{eventType:"\u5168\u90e8",section:"\u5168\u90e8"}],[{eventType:"StartPlanting",section:"\u5be6\u9a57\u7d44",subSection:0},{eventType:"StartPlanting",section:"\u5be6\u9a57\u7d44",subSection:1},{eventType:"StartPlanting",section:"\u5be6\u9a57\u7d44",subSection:2},{eventType:"StartPlanting",section:"\u5be6\u9a57\u7d44",subSection:3}]]),i=Object(l.a)(r,2),o=i[0],d=i[1],b=Object(c.useState)(["\u5168\u90e8"]),u=Object(l.a)(b,2),O=u[0],h=u[1],p=Object(c.useState)("\u9078\u64c7\u4e8b\u4ef6\u985e\u578b"),x=Object(l.a)(p,2),f=x[0],g=x[1],v=Object(c.useState)("COUNT"),A=Object(l.a)(v,2),y=A[0],S=A[1],k=Object(c.useState)("\u5168\u90e8"),C=Object(l.a)(k,2),w=C[0],N=C[1],T=Object(c.useState)(""),D=Object(l.a)(T,2),U=D[0],M=D[1],R=Object(c.useState)([]),B=Object(l.a)(R,2),Q=B[0],z=B[1],q=Object(c.useState)([]),H=Object(l.a)(q,2),W=H[0],_=H[1],ee=Object(c.useState)({SUM:!0,AVG:!0,GROUP:!0}),te=Object(l.a)(ee,2),ne=te[0],ce=te[1],ae={SUM:["PlantingDuration","GoalProgress","FriendsInRoom","FriendStoryScrollDistance","StoryScrollDistance","CardScrollDistance","FocusOnScrollDistance"],AVG:["PlantingDuration","GoalProgress","FriendsInRoom","FriendStoryScrollDistance","StoryScrollDistance","CardScrollDistance","FocusOnScrollDistance"],GROUP:["MemberId","FriendId","FriendRank","SurveyPerson","UserId","UnlikeStoryId","LikeStoryId","ShareStoryId","CardId","PreviewPerson","PlantingDuration","GoalProgress","FriendsInRoom"]};Object(c.useEffect)((function(){P.a.get("http://localhost:5000/api/events/types").then((function(e){h(["\u5168\u90e8"].concat(Object(m.a)(e.data)))}))}),[]);var se=function(e){var t=o;t.splice(e,1),d(t.slice())};return Object(j.jsxs)(E.a,{children:[Object(j.jsx)(F.a,{className:"mt-4",children:Object(j.jsx)(K.a,{xs:12,children:Object(j.jsxs)(F.a,{className:"d-flex flex-row  card shadow-sm m-2 p-2 justify-content-center align-items-center",children:[Object(j.jsxs)(K.a,{md:12,lg:3,className:"d-flex flex-row align-items-center",children:[Object(j.jsx)("span",{className:"ms-2 text-muted",style:{fontSize:"1rem"},children:"\u6574\u5408\u51fd\u6578"}),Object(j.jsx)(G.a,{variant:"outline-secondary",title:y,className:"mx-1",children:["COUNT","SUM","AVG","GROUP"].map((function(e){return Object(j.jsx)(J.a.Item,{onClick:function(){if(ne[e]){alert("\u8acb\u6ce8\u610f\uff1a".concat(e,"\u51fd\u6578")+("GROUP"==e?"\u4e0d\u652f\u63f4\u4e8b\u4ef6\u6bd4\u5c0d\uff01\uff01\u4e14":"")+"\u53ea\u652f\u63f4\u4ee5\u4e0b\u4e8b\u4ef6\u985e\u578b\n"+ae[e].join(", \n"));var t=Object.assign({},ne);t[e]=!1,ce(t)}S(e),g("\u9078\u64c7\u4e8b\u4ef6\u985e\u578b"),_([])},children:e},e)}))}),Object(j.jsx)(Y.a,{style:{width:"25rem"},placement:"bottom",overlay:Object(j.jsxs)(L.a,{id:"tooltip-".concat("bottom"),style:{fontSize:"0.6rem"},children:[Object(j.jsx)("p",{children:"\u6574\u5408\u51fd\u6578\u4ee3\u8868\u5982\u4f55\u6574\u5408\u4e00\u6bb5\u6642\u9593\u5167\u7684\u4e8b\u4ef6\u8cc7\u6599\u4ee5\u5728\u5716\u8868\u4e2d\u6aa2\u8996\u3002"}),Object(j.jsxs)("p",{children:["COUNT",Object(j.jsx)("br",{})," \u4ee3\u8868\u6642\u9593\u5167\u4e8b\u4ef6\u767c\u751f\u7684\u6578\u91cf"]}),Object(j.jsxs)("p",{children:["SUM",Object(j.jsx)("br",{}),"\u4ee3\u8868\u6642\u9593\u5167\u4e8b\u4ef6\u6578\u503c\u7684\u7e3d\u548c"]}),Object(j.jsxs)("p",{children:["AVG",Object(j.jsx)("br",{}),"\u4ee3\u8868\u6642\u9593\u5167\u4e8b\u4ef6\u6578\u503c\u7684\u5e73\u5747"]}),Object(j.jsx)("p",{children:"(\u56e0\u6b64\u901a\u5e38SUM\uff0cAVG\u9700\u8981\u5728\u4e8b\u4ef6\u6578\u503c\u5927\u5c0f\u5177\u6709\u610f\u7fa9\u4e26\u53ef\u6bd4\u8f03\u7684\u60c5\u6cc1\u4f7f\u7528)"}),Object(j.jsxs)("p",{children:["GROUP",Object(j.jsx)("br",{}),"\u8207COUNT\u985e\u4f3c\u662f\u8a08\u7b97\u4e8b\u4ef6\u767c\u751f\u6578\u91cf\uff0c\u4f46\u6703\u518d\u6839\u64da\u4e8b\u4ef6\u6578\u503c\u4e0d\u540c\u986f\u793a\u500b\u5225\u767c\u751f\u6b21\u6578"]}),Object(j.jsx)("p",{children:"(\u4e0d\u652f\u63f4\u4e8b\u4ef6\u5c0d\u7167\uff0c\u56e0\u70ba\u672c\u8eab\u7684\u6578\u503c\u5df2\u70ba\u5c0d\u7167)"}),Object(j.jsx)("br",{}),Object(j.jsx)("p",{children:"p.s. GROUP\u9019\u540d\u5b57\u53d6\u7684\u6709\u9ede\u721b\u3002\u5176\u4ed6\u4e09\u500b\u90fd\u662fSQL\u8a9e\u6cd5\u4e2d\u7684\u51fd\u6578"})]}),children:Object(j.jsx)("div",{children:Object(j.jsx)(X.f,{})})},"bottom")]}),Object(j.jsxs)(K.a,{md:12,lg:7,className:"d-flex flex-column align-items-center my-1",children:[W.map((function(e,t){return Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{className:"ms-2 text-muted",style:{fontSize:"1rem"},children:"\u4f7f\u7528\u8005\u7fa4\u7d44:"}),e.section,void 0!==e.subSection&&""!==e.subSection&&Object(j.jsxs)("span",{children:["-",e.subSection]}),Object(j.jsx)("span",{className:"ms-2 text-muted",style:{fontSize:"1rem"},children:"\u4e8b\u4ef6\u985e\u578b:"}),e.eventType,0==t&&Object(j.jsx)(I.a,{variant:"light",className:"m-1 p-1",onClick:function(){_([])},children:Object(j.jsx)(X.k,{})})]},"".concat(e.eventType).concat(e.section).concat(e.subSection))})),Object(j.jsxs)("div",{className:"d-flex flex-row align-items-center my-1",children:[Object(j.jsx)("span",{className:"ms-2 text-muted",style:{fontSize:"1rem"},children:"\u4f7f\u7528\u8005\u7fa4\u7d44"}),Object(j.jsxs)(J.a,{className:"mx-1",children:[Object(j.jsx)(J.a.Toggle,{id:"dropdown-button-dark-example2",variant:"outline-secondary",children:w}),Object(j.jsx)(J.a.Menu,{children:["\u5168\u90e8","\u5be6\u9a57\u7d44","\u5c0f\u7d44","\u4f7f\u7528\u8005"].map((function(e,t){return Object(j.jsx)(J.a.Item,{onClick:function(){!function(e){z([]),P.a.get("http://localhost:5000/api/events/sections?type="+e).then((function(e){console.log(e.data),z(e.data),e.data.length>0&&M(e.data[0])}))}(e),N(e),"\u5168\u90e8"==e&&M("")},children:e},e)}))})]}),Q.length>0&&Object(j.jsxs)(J.a,{className:"mx-1",children:[Object(j.jsx)(J.a.Toggle,{id:"dropdown-button-dark-example1",variant:"outline-secondary",children:U}),Object(j.jsx)(J.a.Menu,{children:Q.map((function(e,t){return Object(j.jsx)(J.a.Item,{onClick:function(){M(e)},children:e},e)}))})]}),Object(j.jsx)("span",{className:"ms-2 text-muted",style:{fontSize:"1rem"},children:"\u4e8b\u4ef6\u985e\u578b"}),Object(j.jsxs)(J.a,{className:"mx-1",children:[Object(j.jsx)(J.a.Toggle,{id:"dropdown-button-dark-example3",variant:"outline-secondary",children:f}),Object(j.jsx)(J.a.Menu,{children:"COUNT"===y?O.map((function(e,t){return Object(j.jsx)(J.a.Item,{onClick:function(){g(e)},children:e},e)})):ae[y].map((function(e,t){return Object(j.jsx)(J.a.Item,{onClick:function(){g(e)},children:e},e)}))})]}),"GROUP"!=y&&Object(j.jsxs)(I.a,{variant:"outline-secondary",className:"d-flex align-items-center",onClick:function(){if("\u9078\u64c7\u4e8b\u4ef6\u985e\u578b"!=f)if("COUNT"===y||ae[y].includes(f)){var e=W;e.push({eventType:f,section:w,subSection:U,groupFunc:y}),_(e.slice())}else alert("\u6574\u5408\u51fd\u6578\u4e0d\u652f\u63f4");else alert("\u9078\u64c7\u4e8b\u4ef6\u985e\u578b")},children:["\u65b0\u589e\u6bd4\u5c0d\u4e8b\u4ef6 ",Object(j.jsx)(X.g,{className:"ms-1"})]})]})]}),Object(j.jsx)(K.a,{md:12,lg:2,className:"d-grid gap-2",children:Object(j.jsxs)(J.a,{children:[Object(j.jsxs)(J.a.Toggle,{as:V,id:"dropdown-custom-components",children:["\u65b0\u589e\u8868\u683c ",Object(j.jsx)(X.g,{className:"ms-1"})]}),Object(j.jsx)(J.a.Menu,{variant:"primary",children:["\u76f4\u689d\u5716","\u5806\u758a\u5716","\u6298\u7dda\u5716"].map((function(e,t){return Object(j.jsx)(J.a.Item,{onClick:function(){!function(e){if("\u9078\u64c7\u4e8b\u4ef6\u985e\u578b"!=f)if("COUNT"===y||ae[y].includes(f)){var t=o,n=W,c=a;if(n.length>0){var r=n[n.length-1];r.eventType===f&&r.section===w&&r.subSection===U||n.push({eventType:f,section:w,subSection:U,groupFunc:y})}else n.push({eventType:f,section:w,subSection:U,groupFunc:y});t.push(n.slice()),d(t.slice()),_([]),c.push(e),s(c.slice())}else alert("\u6574\u5408\u51fd\u6578\u4e0d\u652f\u63f4");else alert("\u9078\u64c7\u4e8b\u4ef6\u985e\u578b")}(e)},children:e},e)}))})]})})]})})}),Object(j.jsx)(F.a,{children:o.map((function(e,t){var n=a[t]||"\u76f4\u689d\u5716",c=e.map((function(e){return"".concat(e.eventType).concat(e.section).concat(e.subSection?e.subSection:"")})).join("");return c+=n,Object(j.jsx)(Z,{eventData:e,idx:t,deleteChart:se,chartType:n},c)}))})]})}var $=a.a.createContext(),_={"\u4fe1\u7bb1":"\u96fb\u5b50\u4fe1\u7bb1","\u5e73\u5e38\u5c08\u6ce8\u6642\u662f\u5426\n\u6709\u5206\u5fc3\u7684\u60c5\u6cc1":"\u5206\u5fc3","\u662f\u5426\u6709\u7528\u904e\u5e6b\u52a9\u5c08\u6ce8\u7684 App\n\u4f8b\u5982\uff1aflora, forest, \u756a\u8304\u9418...\u7b49":"\u7528\u904e\u5c08\u6ce8App","\u5e73\u65e5/\u5047\u65e5\u9810\u8a08\u6703\u4f7f\u7528 App \u7684\u6642\u9593 [\u5e73\u65e5]":"\u5e73\u65e5\u4f7f\u7528\u6642\u9593","\u5e73\u65e5/\u5047\u65e5\u9810\u8a08\u6703\u4f7f\u7528 App \u7684\u6642\u9593 [\u5047\u65e5]":"\u5047\u65e5\u4f7f\u7528\u6642\u9593","\u9810\u8a08\u4f7f\u7528 App \u6642\u6703\u5c08\u6ce8\u7684\u9805\u76ee \n(\u4f8b\u5982\uff1a\u7dda\u6027\u4ee3\u6578\u3001\u82f1\u6587\u3001\u7e6a\u756b...\u7b49)":"\u9810\u8a08\u5c08\u6ce8\u9805\u76ee","Apple ID (\u8207 iPhone \u7d81\u5b9a\u4e4b\u4fe1\u7bb1)":"Apple ID","\u53ef\u4ee5\u81f3\u6e05\u5927\u53f0\u9054\u9928/google meet\n\u807d\u53d6\u5be6\u9a57\u8aaa\u660e\u7684\u65e5\u671f":"\u8aaa\u660e\u65e5\u671f"};var ee=function(){var e=Object(c.useState)({columns:[],rows:[]}),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)({columns:[],rows:[]}),r=Object(l.a)(s,2),O=r[0],m=r[1],p=Object(c.useState)(!1),x=Object(l.a)(p,2),f=x[0],g=(x[1],Object(c.useState)(!1)),v=Object(l.a)(g,2),A=v[0],y=v[1],S=Object(c.useState)(""),k=Object(l.a)(S,2),w=k[0],N=k[1],T=Object(c.useState)(!1),D=Object(l.a)(T,2);D[0],D[1],Object(c.useEffect)((function(){h.a.init({duration:2e3}),fetch("http://localhost:5000/api/participants/").then((function(e){return e.json()})).then((function(e){console.log(e);var t,n=[],c=Object(i.a)(e.headerValues);try{for(c.s();!(t=c.n()).done;){var s=t.value;n.push("\u7167\u7247"===s?{Header:s in _?_[s]:s,accessor:s,maxWidth:70,minWidth:70,Cell:function(e){var t=e.cell.value;return Object(j.jsx)("img",{src:t.replace("open?id=","thumbnail?authuser=0&sz=w320&id="),width:60})}}:{Header:s in _?_[s]:s,accessor:s})}}catch(r){c.e(r)}finally{c.f()}a({columns:n,rows:e.rows})})).catch((function(e){console.log(e)})),fetch("http://localhost:5000/api/groups/").then((function(e){return e.json()})).then((function(e){console.log(e);var t,n=[],c=Object(i.a)(e.headerValues);try{for(c.s();!(t=c.n()).done;){var a=t.value;n.push("\u7167\u7247"===a?{Header:a in _?_[a]:a,accessor:a,maxWidth:70,minWidth:70,Cell:function(e){var t=e.cell.value;return Object(j.jsx)("img",{src:t.replace("open?id=","thumbnail?authuser=0&sz=w320&id="),width:60})}}:{Header:a in _?_[a]:a,accessor:a})}}catch(s){c.e(s)}finally{c.f()}m({columns:n,rows:e.rows})})).catch((function(e){console.log(e)}))}),[]),Object(c.useEffect)((function(){}),[]);var I={participantData:n,groupData:O,showSuccessModal:A,setShowSuccessModal:y,focusDrinkId:w,setFocusDrinkId:N,fallback:f};return Object(j.jsx)($.Provider,{value:I,children:Object(j.jsx)("div",{className:"App","data-aos":"fade-in","data-aos-delay":"700",children:Object(j.jsxs)(o.a,{children:[Object(j.jsx)(b,{}),Object(j.jsx)(c.Suspense,{fallback:Object(j.jsx)("div",{children:"Loading..."}),children:Object(j.jsxs)(d.d,{children:[Object(j.jsx)(d.b,{exact:!0,path:"/",children:Object(j.jsx)(d.a,{to:{pathname:"/participants"}})}),Object(j.jsx)(d.b,{path:"/participants",children:Object(j.jsx)(C,{})}),Object(j.jsx)(d.b,{path:"/groups",children:Object(j.jsx)(B,{})}),Object(j.jsx)(d.b,{path:"/events",children:Object(j.jsx)(u.b.Provider,{value:{size:"0.75rem",color:"rgba(0,0,0,0.7)"},children:Object(j.jsx)(W,{})})})]})})]})})})},te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,147)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(ee,{})}),document.getElementById("root")),te()}},[[135,1,2]]]);
//# sourceMappingURL=main.fed4f3b3.chunk.js.map